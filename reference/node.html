<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a node object to grow a DAG step-by-step — node • simDAG</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a node object to grow a DAG step-by-step — node"><meta name="description" content="These functions should be used in conjunction with the empty_dag function to create DAG objects, which can then be used to simulate data using the sim_from_dag function or the sim_discrete_time function."><meta property="og:description" content="These functions should be used in conjunction with the empty_dag function to create DAG objects, which can then be used to simulate data using the sim_from_dag function or the sim_discrete_time function."><meta property="og:image" content="https://robindenz1.github.io/simDAG/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">simDAG</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/v_cookbook.html">simDAG Cookbook</a></li>
    <li><a class="dropdown-item" href="../articles/v_covid_example.html">Simulating Covid-19 Vaccine Data using a Discrete-Time Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/v_sim_discrete_time.html">Simulating Data using a Discrete-Time Approach</a></li>
    <li><a class="dropdown-item" href="../articles/v_sim_from_dag.html">Simulating Data from a known DAG</a></li>
    <li><a class="dropdown-item" href="../articles/v_using_formulas.html">Specifying Formulas in a DAG</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RobinDenz1/siMDAG/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create a node object to grow a DAG step-by-step</h1>

      <div class="d-none name"><code>node.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions should be used in conjunction with the <code><a href="empty_dag.html">empty_dag</a></code> function to create <code>DAG</code> objects, which can then be used to simulate data using the <code><a href="sim_from_DAG.html">sim_from_dag</a></code> function or the <code><a href="sim_discrete_time.html">sim_discrete_time</a></code> function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">node</span><span class="op">(</span><span class="va">name</span>, <span class="va">type</span>, parents<span class="op">=</span><span class="cn">NULL</span>, formula<span class="op">=</span><span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">node_td</span><span class="op">(</span><span class="va">name</span>, <span class="va">type</span>, parents<span class="op">=</span><span class="cn">NULL</span>, formula<span class="op">=</span><span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>A character vector with at least one entry specifying the name of the node. If a character vector containing multiple different names is supplied, one separate node will be created for each name. These nodes are completely independent, but have the exact same node definition as supplied by the user. If only a single character string is provided, only one node is generated.</p></dd>

  <dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>A single character string specifying the type of the node. Depending on whether the node is a root node, a child node or a time-dependent node different node types are allowed. See details. Alternatively, a suitable function may be passed directly to this argument.</p></dd>

  <dt id="arg-parents">parents<a class="anchor" aria-label="anchor" href="#arg-parents"></a></dt>
<dd><p>A character vector of names, specifying the parents of the node or <code>NULL</code> (default). If <code>NULL</code>, the node is treated as a root node. For convenience it is also allowed to set <code>parents=""</code> to indicate that the node is a root node.</p></dd>

  <dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>An optional <code>formula</code> object to describe how the node should be generated or <code>NULL</code> (default). If supplied it should start with <code>~</code>, having nothing else on the left hand side. The right hand side should define the entire structural equation, including the betas and intercepts. It may contain any valid formula syntax, such as <code>~ -2 + A*3 + B*4</code> or <code>~ -2 + A*3 + B*4 + I(A^2)*0.3 + A:B*1.1</code>, allowing arbitrary non-linear effects, arbitrary interactions and multiple coefficients for categorical variables. Additionally, for some node types, random effects and random slopes are supported. If this argument is defined, there is no need to define the <code>betas</code> and <code>intercept</code> argument. The <code>parents</code> argument should still be specified whenever a categorical variable is used in the formula. This argument is currently only supported for nodes of type <code>"binomial"</code>, <code>"gaussian"</code>, <code>"poisson"</code>, <code>"negative_binomial"</code> and <code>"cox"</code>. It is also supported for nodes of type <code>"identity"</code>, but slightly different input is expected in that case. See examples and the associated vignette for an in-depth explanation.</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further named arguments needed to specify the node. Those can be parameters of distribution functions such as the <code>p</code> argument in the <code><a href="rbernoulli.html">rbernoulli</a></code> function for root nodes or arbitrary named arguments such as the <code>betas</code> argument of the <code><a href="node_gaussian.html">node_gaussian</a></code> function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>


<p>To generate data using the <code><a href="sim_from_DAG.html">sim_from_dag</a></code> function or the <code><a href="sim_discrete_time.html">sim_discrete_time</a></code> function, it is required to create a <code>DAG</code> object first. This object needs to contain information about the causal structure of the data (e.g. which variable causes which variable) and the specific structural equations for each variable (information about causal coefficients, type of distribution etc.). In this package, the <code>node</code> and/or <code>node_td</code> function is used in conjunction with the <code><a href="empty_dag.html">empty_dag</a></code> function to create this object.</p>
<p>This works by first initializing an empty <code>DAG</code> using the <code><a href="empty_dag.html">empty_dag</a></code> function and then adding multiple calls to the <code>node</code> and/or <code>node_td</code> functions to it using a simple <code>+</code>, where each call to <code>node</code> and/or <code>node_td</code> adds information about a single node that should be generated. Multiple examples are given below.</p>
<p>In each call to <code>node</code> or <code>node_td</code> the user needs to indicate what the node should be called (<code>name</code>), which function should be used to generate the node (<code>type</code>), whether the node has any parents and if so which (<code>parents</code>) and any additional arguments needed to actually call the data-generating function of this node later passed to the three-dot syntax (<code>...</code>).</p>
<p><strong><em><code>node</code> vs. <code>node_td</code></em></strong>:</p>
<p>By calling <code>node</code> you are indicating that this node is a time-fixed variable which should only be generated once. By using <code>node_td</code> you are indicating that it is a time-dependent node, which will be updated at each step in time when using a discrete-time simulation.</p>
<p><code>node_td</code> should only be used if you are planning to perform a discrete-time simulation with the <code><a href="sim_discrete_time.html">sim_discrete_time</a></code> function. <code>DAG</code> objects including time-dependent nodes may not be used in the <code><a href="sim_from_DAG.html">sim_from_dag</a></code> function.</p>
<p><strong><em>Implemented Root Node Types</em></strong>:</p>
<p>Any function can be used to generate root nodes. The only requirement is that the function has at least one named argument called <code>n</code> which controls the length of the resulting vector. For example, the user could specify a node of type <code>"rnorm"</code> to create a normally distributed node with no parents. The argument <code>n</code> will be set internally, but any additional arguments can be specified using the <code>...</code> syntax. In the <code>type="rnorm"</code> example, the user could set the mean and standard deviation using <code>node(name="example", type="rnorm", mean=10, sd=5)</code>.</p>
<p>For convenience, this package additionally includes three custom root-node functions:</p>
<ul><li><p>"<a href="rbernoulli.html">rbernoulli</a>": Draws randomly from a bernoulli distribution.</p></li>
<li><p>"<a href="rcategorical.html">rcategorical</a>": Draws randomly from any discrete probability density function.</p></li>
<li><p>"<a href="rconstant.html">rconstant</a>": Used to set a variable to a constant value.</p></li>
</ul><p><strong><em>Implemented Child Node Types</em></strong>:</p>
<p>Currently, the following node types are implemented directly for convenience:</p>
<ul><li><p>"<a href="node_gaussian.html">gaussian</a>": A node based on (mixed) linear regression.</p></li>
<li><p>"<a href="node_binomial.html">binomial</a>": A node based on (mixed) logistic regression.</p></li>
<li><p>"<a href="node_conditional_prob.html">conditional_prob</a>": A node based on conditional probabilities.</p></li>
<li><p>"<a href="node_conditional_distr.html">conditional_distr</a>": A node based on conditional draws from different distributions.</p></li>
<li><p>"<a href="node_multinomial.html">multinomial</a>": A node based on multinomial regression.</p></li>
<li><p>"<a href="node_poisson.html">poisson</a>": A node based on (mixed) poisson regression.</p></li>
<li><p>"<a href="node_negative_binomial.html">negative_binomial</a>": A node based on negative binomial regression.</p></li>
<li><p>"<a href="node_cox.html">cox</a>": A node based on cox-regression.</p></li>
<li><p>"<a href="node_identity.html">identity</a>": A node that is just some R expression of other nodes.</p></li>
</ul><p>For custom child node types, see below.</p>
<p><strong><em>Implemented Time-Dependent Node Types</em></strong>:</p>
<p>Currently, the following node types are implemented directly for convenience to use in <code>node_td</code> calls:</p>
<ul><li><p>"<a href="node_time_to_event.html">time_to_event</a>": A node based on repeatedly checking whether an event occurs at each point in time.</p></li>
<li><p>"<a href="node_competing_events.html">competing_events</a>": A node based on repeatedly checking whether one of multiple mutually exclusive events occurs at each point in time.</p></li>
</ul><p>However, the user may also use any of the child node types in a <code>node_td</code> call directly. For custom time-dependent node types, see below.</p>
<p><strong><em>Custom Node Types</em></strong></p>
<p>It is very simple to write a new custom <code>node_function</code> to be used instead, allowing the user to use any <code>type</code> of data-generation mechanism for any type of node (root / child / time-dependent). All that is required of this function is, that it has the named arguments <code>data</code> (the sample as generated so far) and, if it's a child node, <code>parents</code> (a character vector specifying the parents) and outputs either a vector containing <code>n_sim</code> entries, or a <code>data.frame</code> with <code>n_sim</code> rows and an arbitrary amount of columns. More information about this can be found on the <code>node_custom</code> documentation page.</p>
<p><strong><em>Using child nodes as parents for other nodes</em></strong>:</p>
<p>If the data generated by a child node is categorical (such as when using <code>node_multinomial</code>) they can still be used as parents of other nodes for most standard node types without issues. All the user has to do is to use <code>formula</code> argument to supply an enhanced formula, instead of defining the <code>parents</code> and <code>betas</code> argument directly. This works well for all node types that directly support <code>formula</code> input. For other node types, users may need to write custom functions to make this work. See the associated vignette: <code><a href="../articles/v_using_formulas.html">vignette(topic="v_using_formulas", package="simDAG")</a></code> for more information on how to correctly use formulas.</p>
<p><strong><em>Cyclic causal structures</em></strong>:</p>
<p>The name DAG (directed <strong>acyclic</strong> graph) implies that cycles are not allowed. This means that if you start from any node and only follow the arrows in the direction they are pointing, there should be no way to get back to your original node. This is necessary both theoretically and for practical reasons if we are dealing with static DAGs created using the <code>node</code> function. If the user attempts to generate data from a static cyclic graph using the <code><a href="sim_from_DAG.html">sim_from_dag</a></code> function, an error will be produced.</p>
<p>However, in the realm of discrete-time simulations, cyclic causal structures are perfectly reasonable. A variable \(A\) at \(t = 1\) may influence a variable \(B\) at \(t = 2\), which in turn may influence variable \(A\) at \(t = 3\) again. Therefore, when using the <code>node_td</code> function to simulate time-dependent data using the <code><a href="sim_discrete_time.html">sim_discrete_time</a></code> function, cyclic structures are allowed to be present and no error will be produced.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Contrary to the R standard, this function does <b>NOT</b> support partial matching of argument names. This means that supplying <code>nam="age"</code> will not be recognized as <code>name="age"</code> and instead will be added as additional node argument used in the respective data-generating function call when using <code>sim_from_dag</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a <code>DAG.node</code> object which can be added to a <code>DAG</code> object directly.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Robin Denz</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RobinDenz1/simDAG" class="external-link">simDAG</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># creating a DAG with a single root node</span></span></span>
<span class="r-in"><span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_dag.html">empty_dag</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"age"</span>, type<span class="op">=</span><span class="st">"rnorm"</span>, mean<span class="op">=</span><span class="fl">30</span>, sd<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># creating a DAG with multiple root nodes</span></span></span>
<span class="r-in"><span><span class="co"># (passing the functions directly to 'type' works too)</span></span></span>
<span class="r-in"><span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_dag.html">empty_dag</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"sex"</span>, type<span class="op">=</span><span class="va">rbernoulli</span>, p<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"income"</span>, type<span class="op">=</span><span class="va">rnorm</span>, mean<span class="op">=</span><span class="fl">2700</span>, sd<span class="op">=</span><span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># creating a DAG with multiple root nodes + multiple names in one node</span></span></span>
<span class="r-in"><span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_dag.html">empty_dag</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"sex"</span>, type<span class="op">=</span><span class="st">"rbernoulli"</span>, p<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"income_1"</span>, <span class="st">"income_2"</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"rnorm"</span>, mean<span class="op">=</span><span class="fl">2700</span>, sd<span class="op">=</span><span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># also using child nodes</span></span></span>
<span class="r-in"><span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_dag.html">empty_dag</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"sex"</span>, type<span class="op">=</span><span class="st">"rbernoulli"</span>, p<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"income"</span>, type<span class="op">=</span><span class="st">"rnorm"</span>, mean<span class="op">=</span><span class="fl">2700</span>, sd<span class="op">=</span><span class="fl">500</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"sickness"</span>, type<span class="op">=</span><span class="st">"binomial"</span>, parents<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"income"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       betas<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.2</span>, <span class="op">-</span><span class="fl">0.3</span><span class="op">)</span>, intercept<span class="op">=</span><span class="op">-</span><span class="fl">15</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"death"</span>, type<span class="op">=</span><span class="st">"binomial"</span>, parents<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"income"</span>, <span class="st">"sickness"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       betas<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="op">-</span><span class="fl">0.4</span>, <span class="fl">0.8</span><span class="op">)</span>, intercept<span class="op">=</span><span class="op">-</span><span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># creating the same DAG as above, but using the enhanced formula interface</span></span></span>
<span class="r-in"><span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_dag.html">empty_dag</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"sex"</span>, type<span class="op">=</span><span class="st">"rbernoulli"</span>, p<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"income"</span>, type<span class="op">=</span><span class="st">"rnorm"</span>, mean<span class="op">=</span><span class="fl">2700</span>, sd<span class="op">=</span><span class="fl">500</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"sickness"</span>, type<span class="op">=</span><span class="st">"binomial"</span>,</span></span>
<span class="r-in"><span>       formula<span class="op">=</span> <span class="op">~</span> <span class="op">-</span><span class="fl">15</span> <span class="op">+</span> <span class="va">sexTRUE</span><span class="op">*</span><span class="fl">1.2</span> <span class="op">+</span> <span class="va">income</span><span class="op">*</span><span class="op">-</span><span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"death"</span>, type<span class="op">=</span><span class="st">"binomial"</span>,</span></span>
<span class="r-in"><span>       formula<span class="op">=</span> <span class="op">~</span> <span class="op">-</span><span class="fl">20</span> <span class="op">+</span> <span class="va">sexTRUE</span><span class="op">*</span><span class="fl">0.1</span> <span class="op">+</span> <span class="va">income</span><span class="op">*</span><span class="op">-</span><span class="fl">0.4</span> <span class="op">+</span> <span class="va">sickness</span><span class="op">*</span><span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using time-dependent nodes</span></span></span>
<span class="r-in"><span><span class="co"># NOTE: to simulate data from this DAG, the sim_discrete_time() function needs</span></span></span>
<span class="r-in"><span><span class="co">#       to be used due to "sickness" being a time-dependent node</span></span></span>
<span class="r-in"><span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_dag.html">empty_dag</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"sex"</span>, type<span class="op">=</span><span class="st">"rbernoulli"</span>, p<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node</span><span class="op">(</span><span class="st">"income"</span>, type<span class="op">=</span><span class="st">"rnorm"</span>, mean<span class="op">=</span><span class="fl">2700</span>, sd<span class="op">=</span><span class="fl">500</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node_td</span><span class="op">(</span><span class="st">"sickness"</span>, type<span class="op">=</span><span class="st">"binomial"</span>, parents<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"income"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          betas<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="op">-</span><span class="fl">0.4</span><span class="op">)</span>, intercept<span class="op">=</span><span class="op">-</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we could also use a DAG with only time-varying variables</span></span></span>
<span class="r-in"><span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_dag.html">empty_dag</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node_td</span><span class="op">(</span><span class="st">"vaccine"</span>, type<span class="op">=</span><span class="st">"time_to_event"</span>, prob_fun<span class="op">=</span><span class="fl">0.001</span>, event_duration<span class="op">=</span><span class="fl">21</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">node_td</span><span class="op">(</span><span class="st">"covid"</span>, type<span class="op">=</span><span class="st">"time_to_event"</span>, prob_fun<span class="op">=</span><span class="fl">0.01</span>, event_duration<span class="op">=</span><span class="fl">15</span>,</span></span>
<span class="r-in"><span>          immunity_duration<span class="op">=</span><span class="fl">100</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robin Denz, Katharina Meiszl.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

