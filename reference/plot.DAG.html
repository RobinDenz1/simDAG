<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot a DAG object — plot.DAG • simDAG</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot a DAG object — plot.DAG"><meta name="description" content="Using the node information contained in the DAG object this function plots the corresponding DAG in a quick and convenient way. Some options to customize the plot are available, but it may be advisable to use other packages made explicitly to visualize DAGs instead if those do not meet the users needs."><meta property="og:description" content="Using the node information contained in the DAG object this function plots the corresponding DAG in a quick and convenient way. Some options to customize the plot are available, but it may be advisable to use other packages made explicitly to visualize DAGs instead if those do not meet the users needs."><meta property="og:image" content="https://robindenz1.github.io/simDAG/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">simDAG</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/v_covid_example.html">Simulating Covid-19 Vaccine Data using a Discrete-Time Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/v_sim_discrete_time.html">Simulating Data using a Discrete-Time Approach</a></li>
    <li><a class="dropdown-item" href="../articles/v_sim_from_dag.html">Simulating Data from a known DAG</a></li>
    <li><a class="dropdown-item" href="../articles/v_using_formulas.html">Specifying Formulas in a DAG</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RobinDenz1/siMDAG/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot a <code>DAG</code> object</h1>

      <div class="d-none name"><code>plot.DAG.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Using the node information contained in the <code>DAG</code> object this function plots the corresponding DAG in a quick and convenient way. Some options to customize the plot are available, but it may be advisable to use other packages made explicitly to visualize DAGs instead if those do not meet the users needs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'DAG'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, layout<span class="op">=</span><span class="st">"nicely"</span>, node_size<span class="op">=</span><span class="fl">0.2</span>,</span>
<span>     node_names<span class="op">=</span><span class="cn">NULL</span>, node_color<span class="op">=</span><span class="st">"black"</span>,</span>
<span>     node_fill<span class="op">=</span><span class="st">"red"</span>, node_linewidth<span class="op">=</span><span class="fl">0.5</span>,</span>
<span>     node_linetype<span class="op">=</span><span class="st">"solid"</span>, node_alpha<span class="op">=</span><span class="fl">1</span>,</span>
<span>     node_text_color<span class="op">=</span><span class="st">"black"</span>, node_text_alpha<span class="op">=</span><span class="fl">1</span>,</span>
<span>     node_text_size<span class="op">=</span><span class="fl">8</span>, node_text_family<span class="op">=</span><span class="st">"sans"</span>,</span>
<span>     node_text_fontface<span class="op">=</span><span class="st">"bold"</span>, arrow_color<span class="op">=</span><span class="st">"black"</span>,</span>
<span>     arrow_linetype<span class="op">=</span><span class="st">"solid"</span>, arrow_linewidth<span class="op">=</span><span class="fl">1</span>,</span>
<span>     arrow_alpha<span class="op">=</span><span class="fl">1</span>, arrow_head_size<span class="op">=</span><span class="fl">0.3</span>,</span>
<span>     arrow_head_unit<span class="op">=</span><span class="st">"cm"</span>, arrow_type<span class="op">=</span><span class="st">"closed"</span>,</span>
<span>     arrow_node_dist<span class="op">=</span><span class="fl">0.03</span>, gg_theme<span class="op">=</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>     include_td_nodes<span class="op">=</span><span class="cn">TRUE</span>, mark_td_nodes<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>     <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>DAG</code> object created using the <code><a href="empty_dag.html">empty_dag</a></code> function with nodes added to it using the <code>+</code> syntax. See <code><a href="empty_dag.html">empty_dag</a></code> or <code><a href="node.html">node</a></code> for more details.</p></dd>

  <dt id="arg-layout">layout<a class="anchor" aria-label="anchor" href="#arg-layout"></a></dt>
<dd><p>A single character string specifying the layout of the plot. This internally calls the <code>layout_</code> function of the <span class="pkg">igraph</span> package, which offers a great variety of ways to layout the nodes of a graph. Defaults to <code>"nicely"</code>. Some other options are: <code>"as_star"</code>, <code>"as_tree"</code>, <code>"in_circle"</code>, <code>"on_spere"</code>, <code>"randomly"</code> and many more. For more details see <code><a href="https://r.igraph.org/reference/layout_.html" class="external-link">?layout_</a></code>.</p></dd>

  <dt id="arg-node-size">node_size<a class="anchor" aria-label="anchor" href="#arg-node-size"></a></dt>
<dd><p>Either a single positive number or a numeric vector with one entry per node in the DAG, specifying the radius of the circles used to draw the nodes. If a single number is supplied, all nodes will be the same size (default).</p></dd>

  <dt id="arg-node-names">node_names<a class="anchor" aria-label="anchor" href="#arg-node-names"></a></dt>
<dd><p>A character vector with one entry for each node in the DAG specifying names that should be used for in the nodes or <code>NULL</code> (default). If <code>NULL</code>, the node names that were set during the creation of the DAG object will be used as names.</p></dd>

  <dt id="arg-node-color">node_color<a class="anchor" aria-label="anchor" href="#arg-node-color"></a></dt>
<dd><p>A single character string specifying the color of the outline of the node circles.</p></dd>

  <dt id="arg-node-fill">node_fill<a class="anchor" aria-label="anchor" href="#arg-node-fill"></a></dt>
<dd><p>A single character string specifying the color with which the nodes are filled. Ignored if time-varying nodes are present and both <code>include_td_nodes</code> and <code>mark_td_nodes</code> are set to <code>TRUE</code>.</p></dd>

  <dt id="arg-node-linewidth">node_linewidth<a class="anchor" aria-label="anchor" href="#arg-node-linewidth"></a></dt>
<dd><p>A single number specifying the width of the outline of the node circles.</p></dd>

  <dt id="arg-node-linetype">node_linetype<a class="anchor" aria-label="anchor" href="#arg-node-linetype"></a></dt>
<dd><p>A single character string specifying the linetype of the outline of the node circles.</p></dd>

  <dt id="arg-node-alpha">node_alpha<a class="anchor" aria-label="anchor" href="#arg-node-alpha"></a></dt>
<dd><p>A single number between 0 and 1 specifying the transparency level of the nodes.</p></dd>

  <dt id="arg-node-text-color">node_text_color<a class="anchor" aria-label="anchor" href="#arg-node-text-color"></a></dt>
<dd><p>A single character string specifying the color of the text inside the node circles.</p></dd>

  <dt id="arg-node-text-alpha">node_text_alpha<a class="anchor" aria-label="anchor" href="#arg-node-text-alpha"></a></dt>
<dd><p>A single number between 0 and 1 specifying the transparency level of the text inside the node circles.</p></dd>

  <dt id="arg-node-text-size">node_text_size<a class="anchor" aria-label="anchor" href="#arg-node-text-size"></a></dt>
<dd><p>A single number specifying the size of the text inside of the node circles.</p></dd>

  <dt id="arg-node-text-family">node_text_family<a class="anchor" aria-label="anchor" href="#arg-node-text-family"></a></dt>
<dd><p>A single character string specifying the family of the text inside the node circles.</p></dd>

  <dt id="arg-node-text-fontface">node_text_fontface<a class="anchor" aria-label="anchor" href="#arg-node-text-fontface"></a></dt>
<dd><p>A single character string specifying the fontface of the text inside the node circles.</p></dd>

  <dt id="arg-arrow-color">arrow_color<a class="anchor" aria-label="anchor" href="#arg-arrow-color"></a></dt>
<dd><p>A single character string specifying the color of the arrows between the nodes.</p></dd>

  <dt id="arg-arrow-linetype">arrow_linetype<a class="anchor" aria-label="anchor" href="#arg-arrow-linetype"></a></dt>
<dd><p>A single character string specifying the linetype of the arrows.</p></dd>

  <dt id="arg-arrow-linewidth">arrow_linewidth<a class="anchor" aria-label="anchor" href="#arg-arrow-linewidth"></a></dt>
<dd><p>A single number specifying the width of the arrows.</p></dd>

  <dt id="arg-arrow-alpha">arrow_alpha<a class="anchor" aria-label="anchor" href="#arg-arrow-alpha"></a></dt>
<dd><p>A single number between 0 and 1 specifying the transparency level of the arrows.</p></dd>

  <dt id="arg-arrow-head-size">arrow_head_size<a class="anchor" aria-label="anchor" href="#arg-arrow-head-size"></a></dt>
<dd><p>A single number specifying the size of the arrow heads. The unit for this size parameter can be changed using the <code>arrow_head_unit</code> argument.</p></dd>

  <dt id="arg-arrow-head-unit">arrow_head_unit<a class="anchor" aria-label="anchor" href="#arg-arrow-head-unit"></a></dt>
<dd><p>A single character string specifying the unit of the <code>arrow_head_size</code> argument.</p></dd>

  <dt id="arg-arrow-type">arrow_type<a class="anchor" aria-label="anchor" href="#arg-arrow-type"></a></dt>
<dd><p>Either <code>"open"</code> or <code>"closed"</code>, which controls the type of head the arrows should have. See <code><a href="https://rdrr.io/r/grid/arrow.html" class="external-link">?arrow</a></code>.</p></dd>

  <dt id="arg-arrow-node-dist">arrow_node_dist<a class="anchor" aria-label="anchor" href="#arg-arrow-node-dist"></a></dt>
<dd><p>A single positive number specifying the distance between nodes and the arrows. By setting this to values greater than 0 the arrows will not touch the node circles, leaving a bit of space instead.</p></dd>

  <dt id="arg-gg-theme">gg_theme<a class="anchor" aria-label="anchor" href="#arg-gg-theme"></a></dt>
<dd><p>A <code>ggplot2</code> theme. By default this is set to <code>theme_void</code>, to get rid off everything but the plotted nodes (e.g. everything about the axis and the background). Might be useful to change this to something else when searching for good parameters of the number arguments of this function.</p></dd>

  <dt id="arg-include-td-nodes">include_td_nodes<a class="anchor" aria-label="anchor" href="#arg-include-td-nodes"></a></dt>
<dd><p>Whether to include time-varying nodes added to the <code>dag</code> using the <code><a href="node.html">node_td</a></code> function or not. If one node is both specified as a time-fixed and time-varying node, it's parents in both calls will be pooled and it will be considered a time-varying node if this argument is <code>TRUE</code>. It will, however, also show up if it's argument is <code>FALSE</code>. In this case however, only the parents of that node in the standard <code><a href="node.html">node</a></code> call will be considered.</p></dd>

  <dt id="arg-mark-td-nodes">mark_td_nodes<a class="anchor" aria-label="anchor" href="#arg-mark-td-nodes"></a></dt>
<dd><p>Whether to distinguish time-varying and time-fixed nodes by <code>fill</code> color. If <code>TRUE</code>, the color will be set automatically using the standard <code>ggplot2</code> palette, ignoring the color specified in <code>node_fill</code>. Ignored if <code>include_td_nodes=FALSE</code> or if there are no time-varying variables.</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments passed to the <code>layout</code> function specified by the argument of the same name.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function uses the <span class="pkg">igraph</span> package to find a suitable layout for the plot and then uses the <span class="pkg">ggplot2</span> package in conjunction with the <code>geom_circle</code> function of the <span class="pkg">ggforce</span> package to plot the directed acyclic graph defined by a <code>DAG</code> object. Since it returns a <code>ggplot</code> object, the user may use any standard <code>ggplot2</code> syntax to augment the plot or to save it using the <code>ggsave</code> function.</p>
<p>Note that there are multiple great packages specifically designed to plot directed acyclic graphs, such as the <span class="pkg">igraph</span> package. This function is not meant to be a competitor to those packages. The functionality offered here is rather limited. It is designed to produce decent plots for small DAGs which are easy to create. If this function is not enough to create an adequate plot, users can use the <code><a href="dag2matrix.html">dag2matrix</a></code> function to obtain an adjacency matrix from the <code>DAG</code> object and directly use this matrix and the <span class="pkg">igraph</span> package (or similar ones) to get much better plots.</p>
<p>If the <code>DAG</code> supplied to this function contains time-varying variables, the resulting plot may contain cycles or even bi-directional arrows, depending on the <code>DAG</code>. The reason for that is, that the time-dimension is not shown in the plot. Note also that even though, technically, every time-varying node has itself as a parent, no arrows showing this dependence will be added to the plot.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Robin Denz</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a standard <code>ggplot2</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="empty_dag.html">empty_dag</a></code>, <code><a href="node.html">node</a></code>, <code><a href="node.html">node_td</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RobinDenz1/simDAG" class="external-link">simDAG</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘igraph’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from ‘package:stats’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     decompose, spectrum</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:base’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     union</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggforce.data-imaginist.com" class="external-link">ggforce</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 2 root nodes, 1 child node</span></span></span>
<span class="r-in"><span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_dag.html">empty_dag</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="node.html">node</a></span><span class="op">(</span><span class="st">"age"</span>, type<span class="op">=</span><span class="st">"rnorm"</span>, mean<span class="op">=</span><span class="fl">50</span>, sd<span class="op">=</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="node.html">node</a></span><span class="op">(</span><span class="st">"sex"</span>, type<span class="op">=</span><span class="st">"rbernoulli"</span>, p<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="node.html">node</a></span><span class="op">(</span><span class="st">"smoking"</span>, type<span class="op">=</span><span class="st">"binomial"</span>, parents<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"age"</span><span class="op">)</span>, betas<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.1</span>, <span class="fl">0.4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       intercept<span class="op">=</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dag</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.DAG-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get plot using the igraph package instead</span></span></span>
<span class="r-in"><span><span class="va">g1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r.igraph.org/reference/as.igraph.html" class="external-link">as.igraph</a></span><span class="op">(</span><span class="va">dag</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.DAG-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot with a time-varying node</span></span></span>
<span class="r-in"><span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="va">dag</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="node.html">node_td</a></span><span class="op">(</span><span class="st">"lottery"</span>, type<span class="op">=</span><span class="st">"time_to_event"</span>, parents<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"smoking"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dag</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.DAG-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robin Denz, Katharina Meiszl.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

